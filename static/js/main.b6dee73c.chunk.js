(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{36:function(t,e,r){t.exports=r.p+"static/media/maps.bcf5cc7a.png"},38:function(t,e,r){t.exports=r(62)},46:function(t,e,r){},47:function(t,e,r){},50:function(t,e,r){},51:function(t,e,r){},52:function(t,e,r){},53:function(t,e,r){},54:function(t,e,r){},55:function(t,e,r){},56:function(t,e,r){},57:function(t,e,r){},58:function(t,e,r){},59:function(t,e,r){},60:function(t,e,r){},61:function(t,e,r){},62:function(t,e,r){"use strict";r.r(e);var n=r(2),o=r.n(n),a=r(37),i=r.n(a),c=(r(46),r(7)),u=r(24),l=r(12),s=r(25),f=r(3),h=(r(47),r(22));r(48),r(63),r(27);h.a.initializeApp({apiKey:"AIzaSyDj5A80kAmi_nH7cpErcXDe4f3T3jRmAOo",authDomain:"dongnaebook-f946f.firebaseapp.com",projectId:"dongnaebook-f946f",storageBucket:"dongnaebook-f946f.appspot.com",messagingSenderId:"1081660599001",appId:"1:1081660599001:web:fb56fa1e348d0bee35acc8",measurementId:"G-14827WHBKX"});var p=h.a.firestore(),v=h.a.auth(),m=h.a.database();r(50);var d=function(t){var e=t.item,r=t.onChatButtonClick,n="",a=Object(l.n)();switch(e.subject){case"BOOK \uad50\ud658":n="board-subject-exchange";break;case"BOOK \ucd94\ucc9c":n="board-subject-recommend";break;case"BOOK \ub9ac\ubdf0":n="board-subject-review";break;default:n="board-subject-default"}return o.a.createElement("div",{className:"board-div"},o.a.createElement("div",{className:"board-top"},o.a.createElement("div",{className:"board-title"},e.title),o.a.createElement("div",{className:"board-chat",onClick:function(){return function(t){t.email;var n=t.uid;localStorage.getItem("email")?r(e.email,n):a("/login")}(e.email,e.uid)}},o.a.createElement("div",{className:"board-user"},e.nickname),o.a.createElement("div",{className:"board-chat-icon"}))),o.a.createElement("div",{className:"board-mid"},o.a.createElement("div",{className:"board-subject ".concat(n)},e.subject),o.a.createElement("div",{className:"board-date"},e.date),o.a.createElement("div",{className:"board-town"},e.town.split(" ").pop())),o.a.createElement("div",{className:"board-contents"},e.content))};r(51);var g=function(t){var e=t.items,r=t.onChatButtonClick;return o.a.createElement("div",{className:"boardlist-background"},e.map(function(t){return o.a.createElement(d,{key:t.id,item:t,onChatButtonClick:r})}))};function y(){y=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(_){u=function(t,e,r){return t[e]=r}}function l(t,e,r,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),c=new k(o||[]);return n(i,"_invoke",{value:O(t,r,c)}),i}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(_){return{type:"throw",arg:_}}}t.wrap=l;var f={};function h(){}function p(){}function v(){}var m={};u(m,a,function(){return this});var d=Object.getPrototypeOf,g=d&&d(d(S([])));g&&g!==e&&r.call(g,a)&&(m=g);var b=v.prototype=h.prototype=Object.create(m);function w(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function E(t,e){var o;n(this,"_invoke",{value:function(n,a){function i(){return new e(function(o,i){!function n(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(u.arg)}(n,a,o,i)})}return o=o?o.then(i,i):i()}})}function O(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return N()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=j(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function j(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,j(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function S(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:N}}function N(){return{value:void 0,done:!0}}return p.prototype=v,n(b,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:p,configurable:!0}),p.displayName=u(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,u(t,c,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(E.prototype),u(E.prototype,i,function(){return this}),t.AsyncIterator=E,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new E(l(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},w(b),u(b,c,"Generator"),u(b,a,function(){return this}),u(b,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}var b=function(t){var e=t.searchTerm,r=Object(l.n)(),a=Object(n.useState)("\uc804\uccb4 \uac8c\uc2dc\ud310"),i=Object(c.a)(a,2),u=i[0],h=i[1],p=Object(n.useState)(localStorage.getItem("subject")||"whole"),d=Object(c.a)(p,2),b=d[0],w=d[1],E=Object(n.useState)(localStorage.getItem("age")||"\uc804\uccb4"),O=Object(c.a)(E,2),j=O[0],x=O[1],L=Object(n.useState)(localStorage.getItem("job")||"\uc804\uccb4"),k=Object(c.a)(L,2),S=k[0],N=k[1],_=Object(n.useState)(localStorage.getItem("hashtag")||"\uc804\uccb4"),I=Object(c.a)(_,2),G=I[0],P=I[1],C=Object(n.useState)("true"===localStorage.getItem("town_status")),T=Object(c.a)(C,2),B=T[0],F=T[1],A=Object(n.useState)(localStorage.getItem("lat")||""),K=Object(c.a)(A,2),M=K[0],Y=K[1],D=Object(n.useState)(localStorage.getItem("lon")||""),R=Object(c.a)(D,2),V=R[0],U=R[1],z=Object(n.useState)(localStorage.getItem("town")||""),q=Object(c.a)(z,2),H=(q[0],q[1]),W=Object(n.useState)([]),J=Object(c.a)(W,2),X=J[0],$=J[1];Object(n.useEffect)(function(){window.scrollTo({top:0,behavior:"auto"})},[b,j,S,G,B]),Object(n.useEffect)(function(){window.onbeforeunload=function(){window.scrollTo(0,0)}},[]),Object(n.useEffect)(function(){return function(){var t=Object(f.a)(y().mark(function t(){return y().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:m.ref("postList").on("value",function(t){var e=t.val(),r=[];for(var n in e)r.push(Object(s.a)({id:n},e[n]));$(r)});case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()(),function(){m.ref("postList").off()}},[]),Object(n.useEffect)(function(){"whole"===b?h("\uc804\uccb4 \uac8c\uc2dc\ud310"):"\uad50\ud658"===b?h("BOOK \uad50\ud658 \uac8c\uc2dc\ud310"):"\ucd94\ucc9c"===b?h("BOOK \ucd94\ucc9c \uac8c\uc2dc\ud310"):"\ub9ac\ubdf0"===b&&h("BOOK \ub9ac\ubdf0 \uac8c\uc2dc\ud310")},[b]),Object(n.useEffect)(function(){var t=function(t){console.log("\uc2a4\ud1a0\ub9ac\uc9c0\ubc14\ub01c"),"subject"===t.key&&w(t.newValue),"age"===t.key&&x(t.newValue),"job"===t.key&&N(t.newValue),"hashtag"===t.key&&P(t.newValue),"town_status"===t.key&&F(t.newValue),"town"===t.key&&H(t.newValue),"lat"===t.key&&Y(t.newValue),"lon"===t.key&&U(t.newValue)};return window.addEventListener("storage",t),function(){window.removeEventListener("storage",t)}},[]);var Z=function(t,e,r,n){var o=Q(r-t),a=Q(n-e),i=Math.sin(o/2)*Math.sin(o/2)+Math.cos(Q(t))*Math.cos(Q(r))*Math.sin(a/2)*Math.sin(a/2);return 2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i))*6371*1e3},Q=function(t){return t*(Math.PI/180)},tt=X.filter(function(t){var r="whole"===b||t.subject===b,n="\uc804\uccb4"===j||t.age===j,o="\uc804\uccb4"===S||t.job===S,a="\uc804\uccb4"===G||t.hashtag===G,i=!0;console.log("\uc8fc\uc81c",t.subject),B?(console.log("\ud0c0\uc6b4\ud2b8\ub8e8 \uacc4\uc0b0"),i=Z(M,V,t.lat,t.lon)<=4e3):"BOOK \uad50\ud658"===t.subject&&(console.log("\uad50\ud658\uc8fc\uc81c \uacc4\uc0b0"),i=Z(M,V,t.lat,t.lon)<=4e3);var c=""===e||t.title.includes(e)||t.content.includes(e);return r&&n&&o&&a&&i&&c});return o.a.createElement("div",{className:"boardpage-background"},o.a.createElement("div",{className:"boardname"},o.a.createElement("div",{className:"boardname-line"},""!==e?'"'+e+'"\uc5d0 \ub300\ud55c \uac80\uc0c9\uacb0\uacfc':u)),o.a.createElement("div",null,o.a.createElement(g,{items:tt.reverse(),onChatButtonClick:function(t,e){v.currentUser.email===e?r("/chat"):r("/chat",{state:{otherUserEmail:t}})}})))};r(52),r(53);var w=function(){var t=Object(n.useState)("\uc804\uccb4"),e=Object(c.a)(t,2),r=e[0],a=e[1],i=Object(n.useState)("\uc804\uccb4"),u=Object(c.a)(i,2),l=u[0],s=u[1],f=Object(n.useState)("\uc804\uccb4"),h=Object(c.a)(f,2),p=h[0],v=h[1];function m(t,e){var r=new Event("storage");r.key=t,r.newValue=e,window.dispatchEvent(r)}return Object(n.useEffect)(function(){localStorage.setItem("age",r),m("age",r)},[r]),Object(n.useEffect)(function(){localStorage.setItem("job",l),m("job",l)},[l]),Object(n.useEffect)(function(){localStorage.setItem("hashtag",p),m("hashtag",p)},[p]),o.a.createElement("div",{className:"ca-background"},o.a.createElement("div",{className:"ca-form"},o.a.createElement("div",{className:"ca-list"},"\ub098\uc774"),o.a.createElement("select",{className:"select-from",onChange:function(t){a(t.target.value)},value:r},["\uc804\uccb4","10\ub300 \ubbf8\ub9cc","10\ub300","20\ub300","30\ub300","40\ub300","50\ub300","60\ub300 \uc774\uc0c1"].map(function(t){return o.a.createElement("option",{value:t,key:t},t)}))),o.a.createElement("div",{className:"ca-form"},o.a.createElement("div",{className:"ca-list"},"\uc9c1\uc5c5"),o.a.createElement("select",{className:"select-from",onChange:function(t){s(t.target.value)},value:l},["\uc804\uccb4","\ud559\uc0dd","\uc8fc\ubd80","\uad50\uc9c1","\uc804\ubb38\uc9c1","\uad00\ub9ac\uc9c1","\uc0ac\ubb34\uc9c1","\uae30\ub2a5\uc9c1","\uc11c\ube44\uc2a4\uc9c1","\uc790\uc601\uc5c5","\uae30\ud0c0"].map(function(t){return o.a.createElement("option",{value:t,key:t},t)}))),o.a.createElement("div",{className:"ca-form"},o.a.createElement("div",{className:"ca-list"},"\ud574\uc2dc\ud0dc\uadf8"),o.a.createElement("select",{className:"select-from",onChange:function(t){v(t.target.value)},value:p},["\uc804\uccb4","\ud790\ub9c1","\uc6b0\uc6b8","\uc131\uaca9","\uc790\uc874\uac10","\ub3d9\uae30\ubd80\uc5ec","\uc790\uae30\uacc4\ubc1c","\uac00\uc871","\ub300\uc778\uad00\uacc4","\uc0ac\ud68c\uc0dd\ud65c","\uc2dc\uac04/\ub3c8 \uad00\ub9ac","\uae30\ud0c0"].map(function(t){return o.a.createElement("option",{value:t,key:t},t)}))))},E=(r(54),r(36)),O=r.n(E);function j(){j=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(_){u=function(t,e,r){return t[e]=r}}function l(t,e,r,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),c=new k(o||[]);return n(i,"_invoke",{value:E(t,r,c)}),i}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(_){return{type:"throw",arg:_}}}t.wrap=l;var f={};function h(){}function p(){}function v(){}var m={};u(m,a,function(){return this});var d=Object.getPrototypeOf,g=d&&d(d(S([])));g&&g!==e&&r.call(g,a)&&(m=g);var y=v.prototype=h.prototype=Object.create(m);function b(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var o;n(this,"_invoke",{value:function(n,a){function i(){return new e(function(o,i){!function n(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(u.arg)}(n,a,o,i)})}return o=o?o.then(i,i):i()}})}function E(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return N()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=O(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function O(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function S(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:N}}function N(){return{value:void 0,done:!0}}return p.prototype=v,n(y,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:p,configurable:!0}),p.displayName=u(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,u(t,c,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,i,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},b(y),u(y,c,"Generator"),u(y,a,function(){return this}),u(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}var x=function(){var t=Object(n.useState)(localStorage.getItem("town")),e=Object(c.a)(t,2),r=e[0],a=e[1],i=Object(n.useState)("true"===localStorage.getItem("town_status")),u=Object(c.a)(i,2),l=u[0],s=u[1],h=Object(n.useState)("whole"),p=Object(c.a)(h,2),v=p[0],m=p[1];function d(t,e){var r=new Event("storage");r.key=t,r.newValue=e,window.dispatchEvent(r)}Object(n.useEffect)(function(){localStorage.setItem("subject",v)},[v]);var g=function(){var t=Object(f.a)(j().mark(function t(e,r){var n,o,a,i;return j().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n="https://dapi.kakao.com/v2/local/geo/coord2regioncode.json?x=".concat(r,"&y=").concat(e),t.next=4,fetch(n,{headers:{Authorization:"KakaoAK ".concat("aa29e63fe27035e56f624827b0bbcb08")}});case 4:return o=t.sent,t.next=7,o.json();case 7:return a=t.sent,i=a.documents[0].address_name,t.abrupt("return",i);case 10:case"end":return t.stop()}},t)}));return function(e,r){return t.apply(this,arguments)}}(),y=function(){try{navigator.geolocation.getCurrentPosition(function(){var t=Object(f.a)(j().mark(function t(e){var r,n,o,i;return j().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.coords,n=r.latitude,o=r.longitude,t.next=3,g(n,o);case 3:i=t.sent,localStorage.setItem("lat",n),localStorage.setItem("lon",o),localStorage.setItem("town",i),a(i),d("town",i);case 9:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),function(t){console.error("Error fetching location:",t)})}catch(t){console.error("Error getting user location:",t)}};return o.a.createElement("div",{className:"side-background"},o.a.createElement("div",{className:"town-div"},o.a.createElement("div",{className:"town-button",onClick:y},o.a.createElement("img",{src:O.a,className:"gps-icon",alt:"gps icon"}),o.a.createElement("div",{className:"town-text"},r.split(" ").pop())),o.a.createElement("input",{className:"town-check",type:"checkbox",id:"town_check",checked:l,onClick:function(){console.log("checkclick"),l?(localStorage.setItem("town_status",!1),s(!1),d("town_status",!1)):("\ub0b4 \ub3d9\ub124"===localStorage.getItem("town")&&y(),console.log("\ud655\uc778"),localStorage.setItem("town_status",!0),s(!0),d("town_status",!0))}}),o.a.createElement("label",{htmlFor:"town_check"})),o.a.createElement("div",{className:"board-box"},o.a.createElement("div",{className:"board-button-first ".concat("whole"===v?"white-first":"board-button-first"),onClick:function(){m("whole"),d("subject","whole")}},"\uc804\uccb4"),o.a.createElement("div",{className:"board-button ".concat("BOOK \uad50\ud658"===v?"white":"board-button"),onClick:function(){localStorage.getItem("town")||y(),m("BOOK \uad50\ud658"),d("subject","BOOK \uad50\ud658")}},"\ucc45 \uad50\ud658"),o.a.createElement("div",{className:"board-button ".concat("BOOK \ucd94\ucc9c"===v?"white":"board-button"),onClick:function(){m("BOOK \ucd94\ucc9c"),d("subject","BOOK \ucd94\ucc9c")}},"\ucc45 \ucd94\ucc9c"),o.a.createElement("div",{className:"board-button-last ".concat("BOOK \ub9ac\ubdf0"===v?"white-last":"board-button-last"),onClick:function(){m("BOOK \ub9ac\ubdf0"),d("subject","BOOK \ub9ac\ubdf0")}},"\ucc45 \ub9ac\ubdf0")))};var L=function(t){var e=t.searchTerm;return Object(n.useEffect)(function(){var t=v.onAuthStateChanged(function(t){t?(h.a.database().ref("users/".concat(t.uid)).once("value").then(function(t){console.log(t.val())}),console.log("\ub85c\uadf8\uc778")):console.log("\ub85c\uadf8\uc778 \ud544\uc694")});return function(){t()}},[]),o.a.createElement("div",null,o.a.createElement(w,null),o.a.createElement("div",{className:"main-background"},o.a.createElement(x,null),o.a.createElement(b,{searchTerm:e})))};r(55);function k(){k=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(_){u=function(t,e,r){return t[e]=r}}function l(t,e,r,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),c=new L(o||[]);return n(i,"_invoke",{value:E(t,r,c)}),i}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(_){return{type:"throw",arg:_}}}t.wrap=l;var f={};function h(){}function p(){}function v(){}var m={};u(m,a,function(){return this});var d=Object.getPrototypeOf,g=d&&d(d(S([])));g&&g!==e&&r.call(g,a)&&(m=g);var y=v.prototype=h.prototype=Object.create(m);function b(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var o;n(this,"_invoke",{value:function(n,a){function i(){return new e(function(o,i){!function n(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(u.arg)}(n,a,o,i)})}return o=o?o.then(i,i):i()}})}function E(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return N()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=O(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function O(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function S(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:N}}function N(){return{value:void 0,done:!0}}return p.prototype=v,n(y,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:p,configurable:!0}),p.displayName=u(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,u(t,c,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,i,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},b(y),u(y,c,"Generator"),u(y,a,function(){return this}),u(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}var S=function(){var t=Object(n.useState)(""),e=Object(c.a)(t,2),r=e[0],a=e[1],i=Object(n.useState)(""),u=Object(c.a)(i,2),s=u[0],p=u[1],m=Object(n.useState)(""),d=Object(c.a)(m,2),g=d[0],y=d[1],b=Object(n.useState)(!1),w=Object(c.a)(b,2),E=w[0],O=w[1],j=function(){var t=Object(f.a)(k().mark(function t(e){var n,o,a,i,c;return k().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.signInWithEmailAndPassword(r,s);case 3:return n=t.sent,t.next=6,n.user.getIdToken();case 6:return o=t.sent,localStorage.setItem("token",o),localStorage.setItem("email",r),console.log("\ub85c\uadf8\uc778\uc131\uacf5"),a=h.a.database().ref("users/".concat(n.user.uid)),t.next=13,a.once("value");case 13:i=t.sent,(c=i.val())&&c.nickname&&localStorage.setItem("nickname",c.nickname),x("/"),t.next=25;break;case 19:t.prev=19,t.t0=t.catch(0),O(!0),y("\uc774\uba54\uc77c \ub610\ub294 \ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),console.log("\ub85c\uadf8\uc778\uc2e4\ud328"),console.error("Error signing in:",t.t0);case 25:case"end":return t.stop()}},t,null,[[0,19]])}));return function(e){return t.apply(this,arguments)}}(),x=Object(l.n)();return o.a.createElement("div",{className:"login-background"},o.a.createElement("div",{className:"login-box"},o.a.createElement("div",{className:"login-title"},"\ub85c\uadf8\uc778"),o.a.createElement("form",{onSubmit:function(t){t.preventDefault(),""===r?(O(!0),y("\uc774\uba54\uc77c\uc744 \uc785\ub825\ud574 \uc8fc\uc138\uc694")):""===s?(O(!0),y("\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574 \uc8fc\uc138\uc694")):j()},className:"inputForm"},o.a.createElement("div",{className:"inputDiv"},o.a.createElement("input",{placeholder:"\uc774\uba54\uc77c",className:"login-inputBox",type:"text",value:r,onChange:function(t){a(t.target.value)}})),o.a.createElement("div",{className:"inputDiv"},o.a.createElement("input",{className:"login-inputBox passwordBox",placeholder:"\ube44\ubc00\ubc88\ud638",type:"password",value:s,onChange:function(t){p(t.target.value)}}),E&&o.a.createElement("div",{className:"login-message"},g)),o.a.createElement("button",{type:"submit",className:"login-button"},"\ub85c\uadf8\uc778")),o.a.createElement("button",{className:"login-sign-button",onClick:function(){x("/signup")}},"\ud68c\uc6d0\uac00\uc785")))};r(56);function N(){N=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(_){u=function(t,e,r){return t[e]=r}}function l(t,e,r,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),c=new L(o||[]);return n(i,"_invoke",{value:E(t,r,c)}),i}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(_){return{type:"throw",arg:_}}}t.wrap=l;var f={};function h(){}function p(){}function v(){}var m={};u(m,a,function(){return this});var d=Object.getPrototypeOf,g=d&&d(d(k([])));g&&g!==e&&r.call(g,a)&&(m=g);var y=v.prototype=h.prototype=Object.create(m);function b(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var o;n(this,"_invoke",{value:function(n,a){function i(){return new e(function(o,i){!function n(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(u.arg)}(n,a,o,i)})}return o=o?o.then(i,i):i()}})}function E(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return S()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=O(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function O(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function k(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=v,n(y,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:p,configurable:!0}),p.displayName=u(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,u(t,c,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,i,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},b(y),u(y,c,"Generator"),u(y,a,function(){return this}),u(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=k,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}var _=function(){var t=Object(l.n)(),e=Object(n.useRef)(null),r=Object(n.useState)("test@test.com"),a=Object(c.a)(r,2),i=a[0],u=a[1],s=Object(n.useState)("12345678"),m=Object(c.a)(s,2),d=m[0],g=m[1],y=Object(n.useState)("12345678"),b=Object(c.a)(y,2),w=b[0],E=b[1],O=Object(n.useState)("nicktest"),j=Object(c.a)(O,2),x=j[0],L=j[1],k=Object(n.useState)(""),S=Object(c.a)(k,2),_=S[0],I=S[1],G=Object(n.useState)(""),P=Object(c.a)(G,2),C=P[0],T=P[1],B=Object(n.useState)(""),F=Object(c.a)(B,2),A=F[0],K=F[1],M=Object(n.useState)(!1),Y=Object(c.a)(M,2),D=Y[0],R=Y[1],V=Object(n.useState)(!1),U=Object(c.a)(V,2),z=U[0],q=U[1],H=Object(n.useState)(!1),W=Object(c.a)(H,2),J=W[0],X=W[1],$=Object(n.useState)(!1),Z=Object(c.a)($,2),Q=Z[0],tt=Z[1],et=Object(n.useState)(!1),rt=Object(c.a)(et,2),nt=rt[0],ot=rt[1];Object(n.useEffect)(function(){R(!!D)},[D]),Object(n.useEffect)(function(){""!==d?d.length>=7?(T(""),tt(!0)):(T("\ube44\ubc00\ubc88\ud638\ub294 7\uc790\uc774\uc0c1\uc73c\ub85c \uad6c\uc131\ud574\uc8fc\uc138\uc694"),tt(!1)):(T(""),tt(!1))},[d,Q]),Object(n.useEffect)(function(){d===w?(K("\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud569\ub2c8\ub2e4."),X(!0)):(K("\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),X(!1))},[d,w,J]),Object(n.useEffect)(function(){""!==x?ot(!0):""===x&&ot(!1)},[x,nt]);var at=function(){var t=Object(f.a)(N().mark(function t(){var e,r;return N().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=h.a.database().ref("users"),r=!1,t.next=4,e.orderByChild("email").equalTo(i).once("value",function(t){t.exists()&&(r=!0)});case 4:r?(console.log("\uc911\ubcf5"),I("\uc774\ubbf8 \uac00\uc785\ub41c \uc774\uba54\uc77c\uc785\ub2c8\ub2e4."),q(!1)):(I("\uc0ac\uc6a9 \uac00\ub2a5\ud55c \uc774\uba54\uc77c\uc785\ub2c8\ub2e4."),q(!0));case 5:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),it=function(){var e=Object(f.a)(N().mark(function e(r){var n,o,a;return N().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.createUserWithEmailAndPassword(i,d);case 3:return n=e.sent,o=p.collection("users").doc(n.user.uid),e.next=7,o.set({email:i,uid:n.user.uid,nickname:x});case 7:return a=h.a.database().ref("users/".concat(n.user.uid)),e.next=10,a.set({email:i,uid:n.user.uid,nickname:x});case 10:t("/login"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error("Error creating user:",e.t0);case 16:case"end":return e.stop()}},e,null,[[0,13]])}));return function(t){return e.apply(this,arguments)}}();return o.a.createElement("div",{className:"signup-background"},o.a.createElement("div",{className:"signup-box"},o.a.createElement("div",{className:"signup-title"},"\ud68c\uc6d0\uac00\uc785"),o.a.createElement("div",{className:"inputForm"},o.a.createElement("div",{className:"inputDiv"},o.a.createElement("input",{placeholder:"\uc774\uba54\uc77c",className:"signup-inputBox emailBox",type:"text",value:i,onChange:function(t){return function(t){var e=t.target.value;u(e),/([\w-.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/.test(e)?(R(!0),q(!1),I("\uc774\uba54\uc77c \uc911\ubcf5\uac80\uc0ac\ub97c \ud574\uc8fc\uc138\uc694")):(R(!1),q(!1),I("\uc774\uba54\uc77c \ud615\uc2dd\uc774 \uc62c\ubc14\ub974\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."))}(t)},ref:e}),o.a.createElement("button",{className:"dupBtn",onClick:function(){at()},disabled:!D},"\uc911\ubcf5\ud655\uc778"),i.length>0&&o.a.createElement("div",{className:"message ".concat(z?"success":"error")},_)),o.a.createElement("div",{className:"inputDiv"},o.a.createElement("input",{className:"signup-inputBox passwordBox",placeholder:"\ube44\ubc00\ubc88\ud638",type:"password",value:d,onChange:function(t){return g(t.target.value)}}),d>0&&o.a.createElement("div",{className:"message ".concat(d.length>6?"success":"error")},C)),o.a.createElement("div",{className:"inputDiv"},o.a.createElement("input",{className:"signup-inputBox passwordBox",placeholder:"\ube44\ubc00\ubc88\ud638 \ud655\uc778",type:"password",value:w,onChange:function(t){return E(t.target.value)}}),w.length>0&&o.a.createElement("div",{className:"message ".concat(J?"success":"error")},A)),o.a.createElement("div",{className:"inputDiv"},o.a.createElement("input",{className:"signup-inputBox nicknameBox",placeholder:"\ub2c9\ub124\uc784",type:"text",value:x,onChange:function(t){return L(t.target.value)}}))),o.a.createElement("button",{className:"finishBtn",onClick:function(){it()},disabled:!(D&&J&&Q&&nt&&z)},"\uac00\uc785\ud558\uae30")))};r(57);function I(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"===typeof t)return G(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G(t,e)}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function G(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function P(){P=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(N){u=function(t,e,r){return t[e]=r}}function l(t,e,r,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),c=new L(o||[]);return n(i,"_invoke",{value:E(t,r,c)}),i}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(N){return{type:"throw",arg:N}}}t.wrap=l;var f={};function h(){}function p(){}function v(){}var m={};u(m,a,function(){return this});var d=Object.getPrototypeOf,g=d&&d(d(k([])));g&&g!==e&&r.call(g,a)&&(m=g);var y=v.prototype=h.prototype=Object.create(m);function b(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var o;n(this,"_invoke",{value:function(n,a){function i(){return new e(function(o,i){!function n(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(u.arg)}(n,a,o,i)})}return o=o?o.then(i,i):i()}})}function E(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return S()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=O(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function O(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function k(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=v,n(y,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:p,configurable:!0}),p.displayName=u(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,u(t,c,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,i,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},b(y),u(y,c,"Generator"),u(y,a,function(){return this}),u(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=k,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}var C=function(){var t=Object(n.useState)(null),e=Object(c.a)(t,2),r=e[0],a=e[1],i=Object(n.useState)([]),u=Object(c.a)(i,2),h=u[0],m=u[1],d=Object(n.useState)(""),g=Object(c.a)(d,2),y=g[0],b=g[1],w=Object(n.useState)([]),E=Object(c.a)(w,2),O=E[0],j=E[1],x=Object(n.useState)(""),L=Object(c.a)(x,2),k=L[0],S=L[1],N=Object(n.useState)(""),_=Object(c.a)(N,2),G=(_[0],_[1],Object(l.l)()),C=Object(n.useState)(G.state&&G.state.otherUserEmail),T=Object(c.a)(C,2),B=T[0],F=(T[1],Object(n.useState)({})),A=Object(c.a)(F,2),K=A[0],M=A[1],Y=Object(n.useRef)(null),D=Object(n.useRef)(),R=Object(n.useCallback)(function(){D.current.style.height="auto",D.current.style.height=D.current.scrollHeight+"px"},[]);Object(n.useEffect)(function(){Y.current&&Y.current.scrollIntoView({behavior:"auto"})},[O]),Object(n.useEffect)(function(){console.log("otherUserEmail:",B),B&&r&&U(B)},[B,r]),Object(n.useEffect)(function(){var t=v.onAuthStateChanged(function(t){t&&(a(t),console.log("\ud655\uc778",t))});return function(){t()}},[]),Object(n.useEffect)(function(){r&&p.collection("chatRooms").where("members","array-contains",r.email).onSnapshot(function(t){m(t.docs.map(function(t){return Object(s.a)({id:t.id},t.data())}))})},[r]),Object(n.useEffect)(function(){y&&p.collection("chatRooms").doc(y).collection("messages").orderBy("timestamp","asc").onSnapshot(function(t){j(t.docs.map(function(t){return t.data()}))})},[y]),Object(n.useEffect)(function(){var t=function(){var t=Object(f.a)(P().mark(function t(){var e;return P().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(h.map(function(){var t=Object(f.a)(P().mark(function t(e){var r;return P().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V(e.id);case 2:return r=t.sent,t.abrupt("return",Object(s.a)({},e,{latestMessage:r}));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 2:(e=t.sent).sort(function(t,e){return e.latestMessage-t.latestMessage}),m(e);case 5:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();h.length>0&&t()},[h]);var V=function(){var t=Object(f.a)(P().mark(function t(e){var r;return P().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.collection("chatRooms").doc(e).collection("messages").orderBy("timestamp","desc").limit(1).get();case 3:if((r=t.sent).empty){t.next=6;break}return t.abrupt("return",r.docs[0].data().timestamp);case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Error fetching latest message timestamp:",t.t0);case 11:return t.abrupt("return",0);case 12:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e){return t.apply(this,arguments)}}(),U=function(){var t=Object(f.a)(P().mark(function t(e){var n,o,a,i,c;return P().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e!==r.email){t.next=3;break}return console.log("Cannot create a chat room with yourself"),t.abrupt("return");case 3:return t.prev=3,t.next=6,p.collection("users").where("email","==",e).get();case 6:if((n=t.sent).empty){t.next=23;break}return o=n.docs[0].data(),t.next=11,p.collection("chatRooms").where("members","array-contains",r.email).get();case 11:if(a=t.sent,!(i=a.docs.find(function(t){return t.data().members.includes(o.email)}))){t.next=17;break}b(i.id),t.next=21;break;case 17:return t.next=19,p.collection("chatRooms").add({members:[r.email,o.email]});case 19:c=t.sent,b(c.id);case 21:t.next=24;break;case 23:console.log("User with the given email not found");case 24:t.next=29;break;case 26:t.prev=26,t.t0=t.catch(3),console.error("Error finding or creating chat room:",t.t0);case 29:case"end":return t.stop()}},t,null,[[3,26]])}));return function(e){return t.apply(this,arguments)}}();Object(n.useEffect)(function(){r&&function(){var t=Object(f.a)(P().mark(function t(){var e,n,o,a,i,c,u;return P().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e={},n=I(h),t.prev=2,n.s();case 4:if((o=n.n()).done){t.next=14;break}if(a=o.value,!(i=a.members.find(function(t){return t!==r.email}))){t.next=12;break}return t.next=10,p.collection("users").where("email","==",i).get();case 10:(c=t.sent).empty||(u=c.docs[0].data(),e[a.id]=u.nickname);case 12:t.next=4;break;case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(2),n.e(t.t0);case 19:return t.prev=19,n.f(),t.finish(19);case 22:M(e);case 23:case"end":return t.stop()}},t,null,[[2,16,19,22]])}));return function(){return t.apply(this,arguments)}}()()},[h,r,p]);var z=function(){var t=Object(f.a)(P().mark(function t(e){var n,o;return P().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),!k.trim()){t.next=12;break}if(y){t.next=5;break}return t.next=5,U(B);case 5:return n={text:k,sender:r.uid,timestamp:(new Date).getTime()},o=p.collection("chatRooms").doc(y),t.next=9,o.collection("messages").add(n);case 9:return t.next=11,o.set({members:[r.email,B],latestMessage:n.timestamp},{merge:!0});case 11:S("");case 12:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();return o.a.createElement("div",{className:"chat-background"},o.a.createElement("div",{className:"chat-list"},h.map(function(t){return t.members.find(function(t){return t!==r.email}),o.a.createElement("button",{className:"chat-button",key:t.id,onClick:function(){return b(t.id)}},K[t.id])})),o.a.createElement("div",{className:"chat-room"},y&&o.a.createElement("div",null,o.a.createElement("div",{className:"chat-room-messages"},O.map(function(t,e){return o.a.createElement("p",{key:e,className:t.sender===r.uid?"message-sender":"message-receiver"},t.text)}),o.a.createElement("div",{ref:Y})),o.a.createElement("div",{className:"chat-room-input"},o.a.createElement("div",{className:"chat-room-form",onSubmit:z},o.a.createElement("textarea",{className:"chat-input",ref:D,value:k,rows:1,onInput:R,onChange:function(t){return S(t.target.value)},onKeyPress:function(t){"Enter"!==t.key||t.shiftKey||(t.preventDefault(),z(t))},placeholder:"\uba54\uc2dc\uc9c0\ub97c \uc785\ub825\ud558\uc138\uc694"}),o.a.createElement("button",{type:"submit",className:"send-button",onClick:z},"\uc804\uc1a1"))))))};r(58);function T(){T=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(N){u=function(t,e,r){return t[e]=r}}function l(t,e,r,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),c=new L(o||[]);return n(i,"_invoke",{value:E(t,r,c)}),i}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(N){return{type:"throw",arg:N}}}t.wrap=l;var f={};function h(){}function p(){}function v(){}var m={};u(m,a,function(){return this});var d=Object.getPrototypeOf,g=d&&d(d(k([])));g&&g!==e&&r.call(g,a)&&(m=g);var y=v.prototype=h.prototype=Object.create(m);function b(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var o;n(this,"_invoke",{value:function(n,a){function i(){return new e(function(o,i){!function n(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(u.arg)}(n,a,o,i)})}return o=o?o.then(i,i):i()}})}function E(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return S()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=O(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function O(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function k(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=v,n(y,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:p,configurable:!0}),p.displayName=u(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,u(t,c,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,i,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},b(y),u(y,c,"Generator"),u(y,a,function(){return this}),u(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=k,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}var B=function(){var t=localStorage.getItem("email"),e=localStorage.getItem("nickname"),r=localStorage.getItem("town"),a=Object(l.n)(),i=(localStorage.getItem("email"),Object(n.useState)(localStorage.getItem("town")||"")),u=Object(c.a)(i,2),h=(u[0],u[1],Object(n.useState)([])),p=Object(c.a)(h,2),d=p[0],y=p[1];Object(n.useEffect)(function(){window.onbeforeunload=function(){window.scrollTo(0,0)}},[]),Object(n.useEffect)(function(){return function(){var t=Object(f.a)(T().mark(function t(){return T().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:m.ref("postList").on("value",function(t){var e=t.val(),r=[];for(var n in e)r.push(Object(s.a)({id:n},e[n]));y(r)});case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()(),function(){m.ref("postList").off()}},[]);var b=d.filter(function(t){return v.currentUser.email===t.email});return o.a.createElement("div",null,o.a.createElement("div",{className:"myinfo-background"},o.a.createElement("div",{className:"myinfo-name"},o.a.createElement("div",{className:"info-div"},o.a.createElement("div",{className:"myinfo-title"},"\ub0b4 \uc815\ubcf4"))),o.a.createElement("div",{className:"info-div"},o.a.createElement("div",{className:"info-left"},"\u318d\uc774\uba54\uc77c"),o.a.createElement("div",{className:"info-right"},t)),o.a.createElement("div",{className:"info-div"},o.a.createElement("div",{className:"info-left"},"\u318d\ub2c9\ub124\uc784"),o.a.createElement("div",{className:"info-right"},e)),o.a.createElement("div",{className:"info-div"},o.a.createElement("div",{className:"info-left"},"\u318d\ub0b4\ub3d9\ub124"),o.a.createElement("div",{className:"info-right"},r)),o.a.createElement("div",{className:"info-div myinfo-name-line"},o.a.createElement("div",{className:"info-left"},"\u318d\ub0b4\uac00 \uc791\uc131\ud55c \uae00"),o.a.createElement("div",{className:"info-right myinfo-right"},b.length," \uac1c")),o.a.createElement("div",null,o.a.createElement(g,{items:b.reverse(),onChatButtonClick:function(t,e){v.currentUser.email===e?a("/chat"):a("/chat",{state:{otherUserEmail:t}})}}))))};r(59);function F(){F=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(N){u=function(t,e,r){return t[e]=r}}function l(t,e,r,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),c=new L(o||[]);return n(i,"_invoke",{value:E(t,r,c)}),i}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(N){return{type:"throw",arg:N}}}t.wrap=l;var f={};function h(){}function p(){}function v(){}var m={};u(m,a,function(){return this});var d=Object.getPrototypeOf,g=d&&d(d(k([])));g&&g!==e&&r.call(g,a)&&(m=g);var y=v.prototype=h.prototype=Object.create(m);function b(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var o;n(this,"_invoke",{value:function(n,a){function i(){return new e(function(o,i){!function n(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(u.arg)}(n,a,o,i)})}return o=o?o.then(i,i):i()}})}function E(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return S()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=O(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function O(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function k(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=v,n(y,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:p,configurable:!0}),p.displayName=u(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,u(t,c,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,i,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},b(y),u(y,c,"Generator"),u(y,a,function(){return this}),u(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=k,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}var A=function(){var t=Object(n.useRef)(null),e=Object(n.useRef)(null),r=Object(n.useState)(""),a=Object(c.a)(r,2),i=a[0],u=a[1],s=Object(n.useState)(""),h=Object(c.a)(s,2),p=h[0],d=h[1],g=Object(n.useState)("BOOK \uad50\ud658"),y=Object(c.a)(g,2),b=y[0],w=y[1],E=Object(n.useState)("\uc804\uccb4"),j=Object(c.a)(E,2),x=j[0],L=j[1],k=Object(n.useState)("\uc804\uccb4"),S=Object(c.a)(k,2),N=S[0],_=S[1],I=Object(n.useState)("\uc804\uccb4"),G=Object(c.a)(I,2),P=G[0],C=G[1],T=Object(n.useState)(localStorage.getItem("town")),B=Object(c.a)(T,2),A=B[0],K=B[1],M=Object(n.useState)(localStorage.getItem("lat")),Y=Object(c.a)(M,2),D=Y[0],R=(Y[1],Object(n.useState)(localStorage.getItem("lon"))),V=Object(c.a)(R,2),U=V[0],z=(V[1],Object(l.n)()),q=Object(n.useState)(null),H=Object(c.a)(q,2),W=H[0],J=H[1];Object(n.useEffect)(function(){var t=v.onAuthStateChanged(function(t){t?J(t):z("/")});return function(){t()}},[]);var X=function(){var t=Object(f.a)(F().mark(function t(e,r){var n,o,a,i;return F().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n="https://dapi.kakao.com/v2/local/geo/coord2regioncode.json?x=".concat(r,"&y=").concat(e),t.next=4,fetch(n,{headers:{Authorization:"KakaoAK ".concat("aa29e63fe27035e56f624827b0bbcb08")}});case 4:return o=t.sent,t.next=7,o.json();case 7:return a=t.sent,i=a.documents[0].address_name,t.abrupt("return",i);case 10:case"end":return t.stop()}},t)}));return function(e,r){return t.apply(this,arguments)}}(),$=function(){try{navigator.geolocation.getCurrentPosition(function(){var t=Object(f.a)(F().mark(function t(e){var r,n,o,a;return F().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.coords,n=r.latitude,o=r.longitude,t.next=3,X(n,o);case 3:a=t.sent,localStorage.setItem("town",a),localStorage.setItem("lat",n),localStorage.setItem("lon",o),K(a),console.log("add",a);case 9:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),function(t){console.error("Error fetching location:",t)})}catch(t){console.error("Error getting user location:",t)}};function Z(){var t=new Date,e=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0");return"".concat(e,".").concat(r,".").concat(n)}var Q=function(){var r=Object(f.a)(F().mark(function r(){return F().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:"\ub0b4 \ub3d9\ub124"===A?$():""===i?t.current.focus():""===p?e.current.focus():tt();case 1:case"end":return r.stop()}},r)}));return function(){return r.apply(this,arguments)}}(),tt=function(){var t=Object(f.a)(F().mark(function t(){var e;return F().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e={title:i,content:p,subject:b,age:x,job:N,hashtag:P,town:A,lat:D,lon:U,user_id:W.uid,email:localStorage.getItem("email"),nickname:localStorage.getItem("nickname"),date:Z()},t.prev=1,t.next=4,m.ref("postList").push(e);case 4:z("/"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),console.error("\uae00 \ub4f1\ub85d \uc2e4\ud328:",t.t0);case 10:case"end":return t.stop()}},t,null,[[1,7]])}));return function(){return t.apply(this,arguments)}}();return o.a.createElement("div",{className:"post-background"},o.a.createElement("div",{className:"post-title"},"\uac8c\uc2dc\ubb3c \uc791\uc131"),o.a.createElement("div",{className:"black-background"},o.a.createElement("div",{className:"post-town",onClick:$},o.a.createElement("img",{src:O.a,className:"post-gps-icon",alt:"gps icon"}),o.a.createElement("div",{className:""},A)),o.a.createElement("select",{className:"subject-input",onChange:function(t){w(t.target.value)},value:b},["BOOK \uad50\ud658","BOOK \ucd94\ucc9c","BOOK \ub9ac\ubdf0"].map(function(t){return o.a.createElement("option",{value:t,key:t},t)})),o.a.createElement("input",{className:"title-input",ref:t,placeholder:"\uc81c\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694",type:"text",value:i,onChange:function(t){u(t.target.value)}}),o.a.createElement("textarea",{className:"content-input",ref:e,placeholder:"\ub0b4\uc6a9\uc744 \uc785\ub825\ud558\uc138\uc694",type:"text",value:p,onChange:function(t){d(t.target.value)}}),o.a.createElement("div",{className:"post-category"},o.a.createElement("div",{className:"ca-form"},o.a.createElement("div",{className:"ca-list"},"\ub098\uc774"),o.a.createElement("select",{className:"select-from select-white",onChange:function(t){L(t.target.value)},value:x},["\uc804\uccb4","10\ub300 \ubbf8\ub9cc","10\ub300","20\ub300","30\ub300","40\ub300","50\ub300","60\ub300 \uc774\uc0c1"].map(function(t){return o.a.createElement("option",{value:t,key:t},t)}))),o.a.createElement("div",{className:"ca-form"},o.a.createElement("div",{className:"ca-list"},"\uc9c1\uc5c5"),o.a.createElement("select",{className:"select-from select-white",onChange:function(t){_(t.target.value)},value:N},["\uc804\uccb4","\ud559\uc0dd","\uc8fc\ubd80","\uad50\uc9c1","\uc804\ubb38\uc9c1","\uad00\ub9ac\uc9c1","\uc0ac\ubb34\uc9c1","\uae30\ub2a5\uc9c1","\uc11c\ube44\uc2a4\uc9c1","\uc790\uc601\uc5c5","\uae30\ud0c0"].map(function(t){return o.a.createElement("option",{value:t,key:t},t)}))),o.a.createElement("div",{className:"ca-form"},o.a.createElement("div",{className:"ca-list"},"\ud574\uc2dc\ud0dc\uadf8"),o.a.createElement("select",{className:"select-from select-white",onChange:function(t){C(t.target.value)},value:P},["\uc804\uccb4","\ud790\ub9c1","\uc6b0\uc6b8","\uc131\uaca9","\uc790\uc874\uac10","\ub3d9\uae30\ubd80\uc5ec","\uc790\uae30\uacc4\ubc1c","\uac00\uc871","\ub300\uc778\uad00\uacc4","\uc0ac\ud68c\uc0dd\ud65c","\uc2dc\uac04/\ub3c8 \uad00\ub9ac","\uae30\ud0c0"].map(function(t){return o.a.createElement("option",{value:t,key:t},t)}))))),o.a.createElement("button",{className:"post-button",onClick:Q},"\ub4f1\ub85d"))};r(60);function K(){K=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(N){u=function(t,e,r){return t[e]=r}}function l(t,e,r,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype),c=new L(o||[]);return n(i,"_invoke",{value:E(t,r,c)}),i}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(N){return{type:"throw",arg:N}}}t.wrap=l;var f={};function h(){}function p(){}function v(){}var m={};u(m,a,function(){return this});var d=Object.getPrototypeOf,g=d&&d(d(k([])));g&&g!==e&&r.call(g,a)&&(m=g);var y=v.prototype=h.prototype=Object.create(m);function b(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var o;n(this,"_invoke",{value:function(n,a){function i(){return new e(function(o,i){!function n(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(u.arg)}(n,a,o,i)})}return o=o?o.then(i,i):i()}})}function E(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return S()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=O(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function O(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function k(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=v,n(y,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:p,configurable:!0}),p.displayName=u(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,u(t,c,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,i,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},b(y),u(y,c,"Generator"),u(y,a,function(){return this}),u(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=k,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}var M=function(t){var e=t.onSearch,r=Object(l.n)(),a=Object(n.useState)(!1),i=Object(c.a)(a,2),u=i[0],s=i[1],p=Object(n.useState)("\ub85c\uadf8\uc544\uc6c3"),m=Object(c.a)(p,2),d=m[0],g=m[1],y=Object(n.useState)(""),b=Object(c.a)(y,2),w=b[0],E=b[1],O=function(){console.log("\uac80\uc0c9",w),""!==w&&(e(w),r("/"))};Object(n.useEffect)(function(){var t=v.onAuthStateChanged(function(t){t?(s(!0),g("\ub85c\uadf8\uc544\uc6c3"),h.a.database().ref("users/".concat(t.uid)).once("value").then(function(t){console.log(t.val())})):(s(!1),g("\ub85c\uadf8\uc778/\ud68c\uc6d0\uac00\uc785"))});return function(){t()}},[]);var j=function(){var t=Object(f.a)(K().mark(function t(){return K().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.signOut();case 3:console.log("\ub85c\uadf8\uc544\uc6c3 \uc131\uacf5"),window.location.reload(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error("Error signing out:",t.t0);case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(){return t.apply(this,arguments)}}();return o.a.createElement("div",null,o.a.createElement("div",{className:"top-background"},o.a.createElement("div",{className:"logo",onClick:function(){r("/"),window.location.reload()}}),o.a.createElement("form",{className:"search-form",onSubmit:function(t){t.preventDefault(),O()}},o.a.createElement("input",{className:"search-input",type:"text",placeholder:"\ub3c4\uc11c\uba85, \ud574\uc2dc\ud0dc\uadf8 \ub4f1 \uc785\ub825",value:w,onChange:function(t){E(t.target.value)}}),o.a.createElement("button",{className:"search-button",type:"button",onClick:O})),o.a.createElement("button",{className:"topbar-button write-button",type:"button",onClick:function(){r(u?"/post":"/login")}}),o.a.createElement("button",{className:"topbar-button chat-button",type:"button",onClick:function(){r(u?"/chat":"/login")}}),o.a.createElement("button",{className:"topbar-button myinfo-button",type:"button",onClick:function(){r(u?"/myinfo":"/login")}}),o.a.createElement("div",{className:"log-button",onClick:function(){u?(j(),localStorage.removeItem("token"),localStorage.removeItem("email"),localStorage.removeItem("nickname"),r("/")):r("/login")}},d)))};r(61);var Y=function(){var t=Object(n.useState)(""),e=Object(c.a)(t,2),r=e[0],a=e[1];return localStorage.getItem("subject")&&localStorage.getItem("lat")||(localStorage.setItem("subject","whole"),localStorage.setItem("age","\uc804\uccb4"),localStorage.setItem("job","\uc804\uccb4"),localStorage.setItem("tag","\uc804\uccb4"),localStorage.setItem("town","\ub0b4 \ub3d9\ub124"),localStorage.setItem("lat","none"),localStorage.setItem("lon","none"),localStorage.setItem("town_status",!1)),window.onbeforeunload=function(){localStorage.setItem("subject","whole"),localStorage.setItem("age","\uc804\uccb4"),localStorage.setItem("job","\uc804\uccb4"),localStorage.setItem("tag","\uc804\uccb4")},o.a.createElement("div",{className:"App"},o.a.createElement(u.a,null,o.a.createElement("div",{className:"full-background"},o.a.createElement(M,{onSearch:function(t){a(t)}})),o.a.createElement(l.c,null,o.a.createElement(l.a,{path:"/",element:o.a.createElement(L,{searchTerm:r})}),o.a.createElement(l.a,{path:"/login",element:o.a.createElement(S,null)}),o.a.createElement(l.a,{path:"/signup",element:o.a.createElement(_,null)}),o.a.createElement(l.a,{path:"/post",element:o.a.createElement(A,null)}),o.a.createElement(l.a,{path:"/chat",element:o.a.createElement(C,null)}),o.a.createElement(l.a,{path:"/myinfo",element:o.a.createElement(B,null)}))))};i.a.createRoot(document.getElementById("root")).render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(Y,null)))}},[[38,1,2]]]);
//# sourceMappingURL=main.b6dee73c.chunk.js.map